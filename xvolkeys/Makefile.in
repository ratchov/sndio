# extra includes paths (-I options)
INCLUDE = -I/usr/X11R6/include -I../libsndio -I../bsd-compat

# extra libraries paths (-L options)
LIB = -L/usr/X11R6/lib -L../libsndio

# extra defines (-D options)
DEFS = -DDEBUG @defs@

# extra libraries (-l options)
LDADD = -lX11 -lsndio @ldadd@

# variables defined on configure script command line (if any)
@vars@

#
# binaries, documentation, man pages and examples will be installed in 
# ${BIN_DIR}, ${MAN1_DIR}
#
BIN_DIR = @bindir@
MAN1_DIR = @mandir@/man1

#
# programs to build
#
PROG = xvolkeys

all:		${PROG}

install:
		mkdir -p ${DESTDIR}${BIN_DIR} ${DESTDIR}${MAN1_DIR}
		cp ${PROG} ${DESTDIR}${BIN_DIR}
		cp ${PROG:=.1} ${DESTDIR}${MAN1_DIR}

uninstall:
		cd ${DESTDIR}${BIN_DIR} && rm -f ${PROG}
		cd ${DESTDIR}${MAN1_DIR} && rm -f ${PROG:=.1}

clean:
		rm -f -- *.o xvolkeys

# ---------------------------------------------------------- dependencies ---

OBJS = xvolkeys.o

xvolkeys:	${OBJS}
		${CC} ${LDFLAGS} ${LIB} -o xvolkeys ${OBJS} ${LDADD} 

.c.o:
		${CC} ${CFLAGS} ${INCLUDE} ${DEFS} -c $<

xvolkeys.o:	xvolkeys.c sysex.h
